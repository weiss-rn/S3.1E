{% extends "base.html" %}
{% block title %}{{ product.name }} - MotoSpare Mart{% endblock %}

{% block content %}
<div class="mt-3">
    <img src="{{ url_for('static', filename='img/' ~ product.image) if product.image else 'https://via.placeholder.com/640x360?text=Produk' }}" class="product-hero-img" alt="{{ product.name }}">

    <div class="info-card mt-3">
        <div class="d-flex justify-content-between align-items-start gap-3">
            <div class="flex-fill">
                <h5 class="fw-bold mb-1">{{ product.name }}</h5>
                <div class="price-tag">Rp {{ "%.0f"|format(product.price) }}</div>
                {% if product.category %}
                    <div class="mt-2">
                        <a class="feature-badge text-decoration-none" href="{{ url_for('category', slug=product.category) }}">
                            <i class="fas fa-tag me-1"></i>Kategori: {{ category_labels.get(product.category, product.category) }}
                        </a>
                    </div>
                {% endif %}
            </div>
            <span class="pill">Ready</span>
        </div>

        <div class="d-flex flex-wrap gap-2 mt-3">
            <span class="feature-badge"><i class="fas fa-bolt me-1"></i>Stok Terbatas</span>
            <span class="feature-badge"><i class="fas fa-shield-alt me-1"></i>Garansi 7 Hari</span>
            <span class="feature-badge"><i class="fas fa-truck me-1"></i>COD + Pickup</span>
        </div>

        <ul class="detail-specs mt-3 mb-0">
            <li>Komp. semua tipe</li>
            <li>OEM & aftermarket</li>
            <li>Siap kirim</li>
            <li>Kurir ekspres</li>
        </ul>
    </div>

    <div class="mt-4">
        <h6 class="fw-bold">Deskripsi Produk</h6>
        <p class="text-muted small mb-3">{{ product.description or "Belum ada deskripsi untuk produk ini." }}</p>
        <div class="d-flex flex-column gap-2">
            <div class="d-flex align-items-center gap-2 text-muted small">
                <i class="fas fa-shield-alt text-success"></i> Garansi 7 hari untuk cacat pabrik
            </div>
            <div class="d-flex align-items-center gap-2 text-muted small">
                <i class="fas fa-truck text-primary"></i> Pengiriman cepat ke seluruh Indonesia
            </div>
        </div>
    </div>

    <div class="card-soft mt-4">
        <div class="d-flex justify-content-between align-items-start gap-3">
            <div>
                <h6 class="mb-1 fw-bold">Info Pengiriman</h6>
                <p class="small text-muted mb-0">Tersedia dari 2 gudang utama (Jakarta & Surabaya).</p>
            </div>
            <div class="text-end">
                <small class="text-muted">Estimasi 2-3 hari</small>
                <div class="fw-bold text-primary">Gratis Ongkir</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block bottom %}
<div class="bottom-action" role="region" aria-label="Aksi produk">
    <div class="container d-flex justify-content-between align-items-center gap-3">
        <div>
            <div class="text-muted small">Total</div>
            <div class="fw-bold">Rp {{ "%.0f"|format(product.price) }}</div>
        </div>
        <div class="d-flex gap-2">
            <a href="javascript:history.back()" class="btn btn-outline-secondary">Kembali</a>
            <a href="{{ url_for('add_to_cart', id=product.id) }}" class="btn btn-primary">Tambah</a>
        </div>
    </div>
</div>
{% endblock %}
